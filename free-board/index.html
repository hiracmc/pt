<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100..900&family=TikTok+Sans:opsz,wght@12..36,300..900&display=swap" rel="stylesheet">
        <title>
            åŠ¹ç‡ã®ã„ã„å‹‰å¼·å¡¾ - StudyHouse
        </title>
        <link href="./index.css" rel="stylesheet" />
        <script src="https://cdn.jsdelivr.net/npm/@twemoji/api@latest/dist/twemoji.min.js" crossorigin="anonymous"></script>
    </head>
    <body>
        <header class="topbar" role="banner" aria-label="Main header">
    <div class="topbar-inner">
        <a href="#" class="logo"><img src="./bbs-logo.svg"></svg></a>

        <nav>
        <a class="nav-item active" href="#home">ãƒ›ãƒ¼ãƒ </a>
        <a class="nav-item" href="../home/">tube</a>
      </nav>

    </div>
  </header>

  <main>
    <div id="loader">
      
    <div class="dot"></div>
    <div class="dot"></div>
    <div class="dot"></div>

  </div>
  <div id="load-text">ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚“ã§ã„ã¾ã™</div>
  </main>
  <div id="bodys"></div>

<script>

const forEmoJi = new Map([
  ["nico", "ğŸ˜ƒ"],
  ["thinking", "ğŸ¤”"],
  ["boom", "ğŸ¤¯"],
  ["sunglasses", "ğŸ˜"],
  ["otaku", "ğŸ¤“"],
  ["sob", "ğŸ˜­"],
  ["omg", "ğŸ˜®"],
  ["oh", "ğŸ˜±"],
  ["good", "ğŸ‘"],
  ["bye", "ğŸ‘‹"],
]);

function byid(id){return document.getElementById(id)}

function getData() {
  const promise = fetch("https://raw.githubusercontent.com/hiracmc/pt/refs/heads/main/free-board/resource/test-data.json");
  promise.then(response => response.json()).then(data => {


const bodys = byid("bodys");

let newHtml = "";
data.forEach(d => {
    const itti = d.data[0]
    let emojidata = "";
    itti.emoji.forEach(e => {
        emojidata += `
        <div class="reac">
            <p>${forEmoJi.get(e.id)} ${e.value}</p>
        </div>
        `
    })
newHtml += `
<div class="card">
    <h2>${d.name}</h2>
      <p style="color: #cfcfcf; font-size: 13px;">[0] ${itti.autnorName} - @${itti.authorId} :</p>
      <p style="color: #a0a0a0ff;">${itti.text.replace(/\n/g, "<br>")}</p>
      <div class="flex">${emojidata}</div>
    </div>
`
})


bodys.innerHTML = newHtml;


const load = byid("loader");
const loadText = byid("load-text");
if (data.length > 0){
    setTimeout(() => {
  load.classList.add("hide");
  loadText.classList.add("hide");
  setTimeout(() => {
    load.style.display = "none";
    loadText.style.display = "none";
  }, 500);
}, 100);
}
  })
twemoji.parse(document.body);
}

getData()

</script>

    </body>
</html>